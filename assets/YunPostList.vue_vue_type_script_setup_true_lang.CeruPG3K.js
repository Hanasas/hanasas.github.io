import{k as N,_ as R,g as j,l as B}from"./app.Bho2iUbc.js";import"./chunks/dayjs.DPscOGnl.js";import{a as M}from"./chunks/vue-router.CRRX0jay.js";import{k as l,p as T,P as o,N as k,R as i,u as a,a3 as P,F as z,$ as L,M as V,X as w,O as t,S as p,W as A,V as S,L as E,b,Z as F,C}from"./framework.VTn4SQHu.js";import{b as H,_ as I,a as D}from"./YunPostMeta.vue_vue_type_style_index_0_lang.BZ4HR9pu.js";import{u as G}from"./chunks/vue-i18n.Bbx_Eog3.js";function O(f){const _=M(),s=l(()=>Number.parseInt(_.params.page||"1")),n=l(()=>Math.ceil(f.total/f.pageSize)),d=l(()=>s.value===1||s.value===n.value?3:2);function h(r){return r===1||r===n.value?!0:r>s.value-d.value&&r<s.value+d.value}function c(r){return r===1?"/":`/page/${r}`}const v=l(()=>c(s.value-1)),m=l(()=>c(s.value+1)),e=l(()=>s.value>1),x=l(()=>s.value<n.value);return{curPage:s,totalPages:n,showPage:h,surLen:d,getTo:c,prevTo:v,nextTo:m,showPrev:e,showNext:x}}const W={class:"pagination"},X=T({__name:"YunPagination",props:{total:{},pageSize:{}},setup(f,{expose:_}){const s=f,{curPage:n,totalPages:d,showPage:h,getTo:c,surLen:v,prevTo:m,nextTo:e,showPrev:x,showNext:r}=O({total:s.total,pageSize:s.pageSize});return _({curPage:n}),($,g)=>{const y=V("RouterLink");return t(),o("nav",W,[a(x)?(t(),k(y,{key:0,class:"page-number",to:a(m),"aria-label":"prev"},{default:P(()=>g[0]||(g[0]=[p("div",{"i-ri-arrow-left-s-line":""},null,-1)])),_:1,__:[0]},8,["to"])):i("v-if",!0),(t(!0),o(z,null,L(a(d),u=>(t(),o(z,null,[a(h)(u)?(t(),k(y,{key:u,class:w(["page-number",a(n)===u&&"active"]),to:a(c)(u)},{default:P(()=>[A(S(u),1)]),_:2},1032,["class","to"])):u===a(n)-a(v)?(t(),o("span",{key:`prev-space-${u}`,class:"space",disabled:""}," ... ")):u===a(n)+a(v)?(t(),o("span",{key:`next-space-${u}`,class:"space",disabled:""}," ... ")):i("v-if",!0)],64))),256)),a(r)?(t(),k(y,{key:1,class:"page-number",to:a(e),"aria-label":"next"},{default:P(()=>g[1]||(g[1]=[p("div",{"i-ri-arrow-right-s-line":""},null,-1)])),_:1,__:[1]},8,["to"])):i("v-if",!0)])}}}),Z={},q={w:"full",h:"10",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"};function J(f,_){return t(),o("div",q)}const K=E(Z,[["render",J]]),Q={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},U=["src","alt"],ee={class:"flex-center title text-2xl",text:"center",font:"serif black"},te={flex:"~ grow col",w:"full",justify:"center",items:"center"},se={key:0,py:"1"},oe=["innerHTML"],ne={key:2,m:"b-5"},ae=["href"],re={w:"full",class:"yun-card-actions flex justify-between","min-h":"10",text:"sm"},le={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},ie=T({__name:"YunPostCard",props:{post:{}},setup(f){const _=f,{t:s}=G(),n=b(""),d=b({}),h=b(""),c=b("bg-gradient-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),v=l(()=>h?"":_.post.postTitleClass||c.value),m=l(()=>_.post.excerptAlign||"center");return(e,x)=>{const r=R,$=H,g=K,y=I,u=D,Y=N;return t(),k(Y,{class:w(["w-full",e.post.cover?"post-card-image":"post-card"]),m:"auto",overflow:"hidden",style:F(d.value)},{default:P(()=>[p("div",Q,[e.post.cover?(t(),o("img",{key:0,src:e.post.cover,alt:a(s)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,U)):i("v-if",!0),p("div",{class:w(["flex flex-col items-center relative",e.post.cover&&"h-54"]),w:"full"},[C(r,{class:w(["post-title-link cursor-pointer",v.value]),to:e.post.path||"",m:"t-3"},{default:P(()=>[p("div",ee,[e.post.type?(t(),o("div",{key:0,class:w(["inline-flex",n.value]),m:"r-1"},null,2)):i("v-if",!0),p("span",null,S(e.post.title),1)])]),_:1},8,["to","class"]),C($,{frontmatter:e.post},null,8,["frontmatter"]),p("div",te,[e.post.excerpt_type==="text"?(t(),o("div",se)):i("v-if",!0),e.post.excerpt?(t(),o("div",{key:1,class:w(["markdown-body",`text-${m.value}`]),op:"90",w:"full",p:"x-6 lt-sm:4 y-2",innerHTML:e.post.excerpt},null,10,oe)):(t(),o("div",ne))]),i(' <div m="b-5" /> '),e.post.excerpt?(t(),k(g,{key:0})):i("v-if",!0),e.post.url?(t(),o("a",{key:1,href:e.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},S(a(s)("post.view_link")),9,ae)):i("v-if",!0)],2)]),i(" always show "),p("div",re,[p("div",le,[C(y,{m:"l-1",categories:e.post.categories},null,8,["categories"])]),e.post.tags?(t(),k(u,{key:0,m:"1",tags:e.post.tags},null,8,["tags"])):i("v-if",!0)])]),_:1},8,["class","style"])}}}),ce={flex:"~ col",class:"yun-post-list gap-4",w:"full",p:"x-4 lt-sm:0"},ue={key:0,py2:"",op50:"","text-center":""},ge=T({__name:"YunPostList",props:{type:{},posts:{}},setup(f){const _=f,s=b(),n=l(()=>{var e;return((e=s.value)==null?void 0:e.curPage)||1}),d=j(),h=B(),c=l(()=>h.value.pageSize),v=l(()=>(_.posts||d.postList).filter(e=>!e.hide)),m=l(()=>v.value.slice((n.value-1)*c.value,n.value*c.value));return(e,x)=>{const r=ie,$=X;return t(),o(z,null,[p("div",ce,[m.value.length?i("v-if",!0):(t(),o("div",ue," 博主还什么都没写哦～ ")),(t(!0),o(z,null,L(m.value,(g,y)=>(t(),k(r,{key:y,post:g},null,8,["post"]))),128))]),C($,{ref_key:"paginationRef",ref:s,class:"mt-5",total:v.value.length,"page-size":c.value},null,8,["total","page-size"])],64)}}});export{ge as _};
