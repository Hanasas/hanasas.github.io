import{p as A,ai as B,k as g,b as N,d as F,e as M,P as t,O as s,R as l,S as a,F as E,$ as O,V as f,a7 as d,L as R}from"./framework.VTn4SQHu.js";const S={class:"yun-gallery"},$={key:0,class:"no-images"},j={class:"gallery-grid"},q=["onClick"],z={class:"img-wrapper"},D=["src","alt"],G={key:0,class:"img-overlay"},K={class:"img-title"},P=["src","alt"],U={key:0,class:"lightbox-info"},Y={key:0,class:"lightbox-title"},H={key:1,class:"lightbox-description"},J=A({__name:"YunGallery",props:{images:{type:Array,default:()=>[],required:!1},columns:{type:Object,default:()=>({default:3,sm:2,xs:1})},gap:{type:Number,default:10}},setup(n){B(c=>({"6bd2fcbe":n.columns.default,ea782a6e:n.gap+"px","3b580dbd":n.columns.sm,"3b580e5e":n.columns.xs}));const i=n,h=g(()=>i.images&&i.images.length>0),e=N(-1),v=g(()=>h.value&&e.value>=0),o=g(()=>v.value?i.images[e.value]:null);function V(c){e.value=c,document.body.classList.add("overflow-hidden")}function m(){e.value=-1,document.body.classList.remove("overflow-hidden")}function b(){e.value>0?e.value--:e.value=i.images.length-1}function p(){e.value<i.images.length-1?e.value++:e.value=0}function y(c){if(v.value)switch(c.key){case"ArrowLeft":b();break;case"ArrowRight":p();break;case"Escape":m();break}}return F(()=>{window.addEventListener("keydown",y)}),M(()=>{window.removeEventListener("keydown",y),document.body.classList.remove("overflow-hidden")}),(c,u)=>{var _,k,x,w,L,C;return s(),t("div",S,[l(" 无图片提示 "),h.value?(s(),t(E,{key:1},[l(" 图片网格 "),a("div",j,[(s(!0),t(E,null,O(n.images,(r,I)=>(s(),t("div",{key:I,class:"gallery-item",onClick:Q=>V(I)},[a("div",z,[a("img",{src:r.src,alt:r.alt||"",loading:"lazy",class:"gallery-image"},null,8,D),r.title?(s(),t("div",G,[a("div",K,f(r.title),1)])):l("v-if",!0)])],8,q))),128))])],2112)):(s(),t("div",$,u[1]||(u[1]=[a("p",null,"暂无图片",-1)]))),l(" 大图预览 "),v.value?(s(),t("div",{key:2,class:"lightbox",onClick:m},[a("div",{class:"lightbox-content",onClick:u[0]||(u[0]=d(()=>{},["stop"]))},[a("button",{class:"nav-button prev",onClick:d(b,["stop"])},"<"),a("img",{src:(_=o.value)==null?void 0:_.src,alt:((k=o.value)==null?void 0:k.alt)||"",class:"lightbox-image"},null,8,P),a("button",{class:"nav-button next",onClick:d(p,["stop"])},">"),a("button",{class:"close-button",onClick:d(m,["stop"])},"×"),(x=o.value)!=null&&x.title||(w=o.value)!=null&&w.description?(s(),t("div",U,[(L=o.value)!=null&&L.title?(s(),t("h3",Y,f(o.value.title),1)):l("v-if",!0),(C=o.value)!=null&&C.description?(s(),t("p",H,f(o.value.description),1)):l("v-if",!0)])):l("v-if",!0)])])):l("v-if",!0)])}}}),W=R(J,[["__scopeId","data-v-a4086942"]]);export{W as _};
